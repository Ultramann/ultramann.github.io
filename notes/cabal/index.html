<!doctype html>
<html lang="en">
    <head>
        <link rel="icon" href="/images/base/favicon.ico">
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Cabal</title>
        <link rel="stylesheet" href="/css/default.css" />
        <link rel="stylesheet" href="/css/syntax.css" />

        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="/js/ultramann.js"></script>
    </head>
    <body>
        <header>
            <div class="logo">
                <a href="/"><img alt="mlml" src="/images/base/mlml.png" width="12%"></a>
            </div>
            <nav>
                <a href="/">Home</a>
                <a href="/about/">About</a>
                <a href="/notes/">Notes</a>
                <a href="/posts/">Posts</a>
            </nav>
        </header>

        <main role="main">
            <h1 class="title">Cabal</h1>
            <article>
    <section class="header">
        <i>Posted on Jul 23, 2017</i>
    </section>
    <section>
        <p>Notes on the Cabal install tool for the Haskell programming language.</p>
<!--more-->
<h1 id="getting-started-with-cabal">Getting Started with Cabal</h1>
<h2 id="installing">Installing</h2>
<ol style="list-style-type: decimal">
<li>Update <code>apt-get</code>: <code>sudo apt-get update</code></li>
<li>Install the haskell platform, has ghc, ghci, cabal, etc: <code>sudo apt-get install haskell-platform</code></li>
</ol>
<h2 id="cabal-sandbox">Cabal Sandbox</h2>
<ol style="list-style-type: decimal">
<li>Make a directory.</li>
<li>Move into directory.</li>
<li><code>cabal sandbox init</code>. Makes the sandbox files. All cabal commands will now only operate in the sandbox.</li>
</ol>
<h2 id="cabal-setup">Cabal Setup</h2>
<ol style="list-style-type: decimal">
<li><code>cabal init</code>. Sets up the package and makes a <code>.cabal</code> file.</li>
<li>Make <code>.hs</code> file that is the launch point of the package (this will get imported when you run <code>cabal repl</code>)</li>
<li>In the <code>.cabal</code> file define some exposed module. This is important, needs to exist along with its corresponding <code>.hs</code> file, otherwise <code>cabal repl</code> won’t work.</li>
<li>Install packages, this can either happen with:
<ul>
<li><code>cabal install -j &lt;package name&gt;</code>, or</li>
<li>if you’ve added other packages to the <code>build-depends</code> list in the <code>.cabal</code> file you can run: <br> <code>cabal install -j --only-dependencies</code>.</li>
<li>The <code>-j</code> parallelizes installation, by default it uses the number of CPUs, you can optionally specify a number.</li>
</ul></li>
<li>You can run <code>cabal repl</code> now, this will drop you into ghci with the exposed module already loaded.</li>
</ol>
<h2 id="other-cabal-abilites">Other Cabal-abilites</h2>
<ul>
<li>Binaries that are installed by cabal are available via: <code>cabal exec &lt;name_of_binary&gt;</code>. e.g.</li>
</ul>
<blockquote>
<blockquote>
<pre><code>cabal exec hakyll-init .</code></pre>
</blockquote>
</blockquote>
<ul>
<li>After <code>cabal build</code>ing, if the target was an executable (this would be specified in the <code>.cabal</code> file), you can run the binaries with <code>cabal run &lt;name_of_executable&gt;</code>. The name of this executable matches the one specified in the <code>.cabal</code> file.</li>
</ul>
<blockquote>
<blockquote>
<pre><code>cabal run site watch</code></pre>
</blockquote>
</blockquote>
<ul>
<li><p>It looks like under the hood, when you run <code>cabal build</code>, cabal is doing all of the ghc calls for you while making sure that packages are available. Once the program is compiled it puts the executable in the <code>dist</code> folder. Running <code>cabal run &lt;name_of_executable&gt;</code> tells cabal to go find the executable by name and run it.</p></li>
<li><p>When you want to pass options, flags, to programs that are run with <code>cabal run</code> use a <code>--</code> to separate them. e.g.</p></li>
</ul>
<blockquote>
<blockquote>
<pre><code>cabal run site watch -- --host 0.0.0.0</code></pre>
</blockquote>
</blockquote>
    </section>
</article>

        </main>

        <footer>
            <a href="https://github.com/ultramann/"><img alt="" src="/images/base/github.png" width="3%"></a>
            <a href="mailto:cary.goltermann@gmail.com"><img alt="email" src="/images/base/email.png" width="3%"></a>
            <a href="https://linkedin.com/in/carygoltermann/"><img alt="linkedin" src="/images/base/linkedin.png" width="3%"></a>
            <a href="https://twitter.com/CaryGoltermann?lang=en"><img alt="twitter" src="/images/base/twitter.png" width="3%"></a>
            <div>
                <a href="https://github.com/Ultramann/ultramann.github.io">Source</a> proudly generated by
                <a href="http://jaspervdj.be/hakyll">Hakyll</a>
                <br>
            </div>
        </footer>
    </body>
</html>
